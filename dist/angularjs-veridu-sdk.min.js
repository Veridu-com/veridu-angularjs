!function(){"use strict";var module=angular.module("veridu.angular.sdk",[]);module.provider("Veridu",function(){var service=function(client,user,session,lang,API_VERSION,$httpParamSerializerJQLike,$http,$log){function apiFetch(method,resource,parameters){var availableMethods=["GET","PUT","POST","DELETE"];return resource?-1==availableMethods.indexOf(method.toUpperCase())?($log.error("Calling API.fetch with invalid method parameter! ("+method+")"),!1):$http({method:method,url:vm.Util.apiUrl(resource),headers:{"Veridu-Client":vm.cfg.client,"Veridu-Session":vm.cfg.session},params:parameters||{},paramSerializer:"$httpParamSerializerJQLike"}):($log.error("Calling API.fetch with invalid resource parameter! ("+resource+")"),!1)}function Util(){function apiUrl(resource,params){return buildUrl(vm.cfg.URL.api+vm.cfg.API_VERSION+"/"+resource+"/",params)}function assetsUrl(resource,params){return buildUrl(vm.cfg.URL.assets+vm.cfg.API_VERSION+"/"+resource,params)}function widgetUrl(resource,params){return buildUrl(vm.cfg.URL.widget+vm.cfg.API_VERSION+"/"+resource+"/",params)}function buildUrl(url,params){return params?(url+=url.indexOf("?")>-1?"&":"?","string"==typeof params?url+params:url+$httpParamSerializerJQLike(params)):url}this.buildUrl=buildUrl,this.apiUrl=apiUrl,this.widgetUrl=widgetUrl,this.assetsUrl=assetsUrl,this.getProviderUrl=getProviderUrl}function valid(args){var v=!0;return v=validate(args[0],"client")&&v,v=validate(args[1],"user")&&v,v=validate(args[2],"session")&&v,v=validate(args[3],"lang")&&v,v=validate(args[4],"API_VERSION")&&v}function validate(prop,propName){switch(propName){case"user":case"client":case"session":if("undefined"==typeof prop){var msg="Please specify Veridu '"+propName+"' on the  confguration phase of your application.";return $log.error(msg),!1}}return!0}function getProviderUrl(provider){return vm.cfg.URL.widget+vm.cfg.API_VERSION+"/provider/login/"+provider+"/"+vm.cfg.client+"/"+vm.cfg.user+"?session="+vm.cfg.session+"&amp;language="+vm.cfg.lang}var vm=this;return vm.user={},vm.Util=new Util,vm.API={fetch:apiFetch},valid(arguments)?void(vm.cfg={user:user,client:client,session:session,lang:lang||"en-us",get API_VERSION(){return API_VERSION||"0.3"},get URL(){return{api:"https://api.veridu.com/",widget:"https://widget.veridu.com/",assets:"https://assets.veridu.com/"}}}):this};return service.$get=["$http","$log","$httpParamSerializerJQLike",function($http,$log,$httpParamSerializerJQLike){return new service(this.client,this.user,this.session,this.lang,this.API_VERSION,$httpParamSerializerJQLike,$http,$log)}],service}),"object"==typeof module&&"object"==typeof module.exports?module.exports="angular-veridu-sdk":"function"==typeof define&&define.amd&&define([],function(){return"angular-veridu-sdk"})}();